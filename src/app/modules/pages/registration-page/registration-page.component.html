<app-navbar [auth]="false"></app-navbar>

<div class="container narrow">
  <mat-card>
    <mat-card-title>Register</mat-card-title>
    <mat-card-content>
      <form [formGroup]="formGroup">
        <mat-error *ngIf="formGroup.hasError('provider')">
          {{formGroup.getError('provider')}}
        </mat-error>
        <mat-form-field>
          <input matInput formControlName="email" type="email" placeholder="Email address">
          <mat-error *ngIf="email?.hasError('email')">The email is badly formatted.</mat-error>
          <mat-error *ngIf="email?.hasError('provider')">{{email?.getError('provider')}}</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput formControlName="password" type="password" placeholder="Password">
          <mat-error *ngIf="password?.hasError('provider')">{{password?.getError('provider')}}</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput formControlName="passwordRepeat" type="password" placeholder="Repeat password">
        </mat-form-field>

        <div class="actions">
          <button
            mat-raised-button
            color="primary"
            class="sign-up"
            [disabled]="formGroup.invalid"
            (click)="register()">Register
          </button>

          <a
            mat-button
            color="secondary"
            class="sign-in"
            routerLink="/login"
            queryParamsHandling="merge">Sign in
          </a>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
